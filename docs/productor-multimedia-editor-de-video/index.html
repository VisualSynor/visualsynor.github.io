<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil Rafael Valenciano - Visual Synor</title>
    <link rel="shortcut icon" href="/assets/favicon-visualsynor.png" type="image/x-png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">



    <style>
        :root { --color-primario: #0D0D0D; --color-secundario: #1A1A1A; --color-acento: #8A2BE2; --color-texto: #E0E0E0; --color-texto-secundario: #A0A0A0; --fuente-principal: 'Poppins', sans-serif; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { font-family: var(--fuente-principal); background-color: var(--color-primario); color: var(--color-texto); line-height: 1.6; }
        /* --- PRELOADER INDEPENDIENTE (PERFILES) --- */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--color-primario);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.75s ease, visibility 0.75s ease;
            overflow: hidden;
        }
        .preloader.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .preloader-video-desktop, .preloader-video-mobile {
            /* Reglas para que el video ocupe TODA la pantalla (con recorte) */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            object-fit: cover;
        }
        .preloader-video-desktop {
            display: none; 
        }

        /* --- ESTILOS GENERALES --- */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .header { position: fixed; top: 0; width: 100%; z-index: 1000; background-color: rgba(13, 13, 13, 0.8); backdrop-filter: blur(10px); padding: 15px 0; }
        .nav { display: flex; justify-content: space-between; align-items: center; }
        .nav-left { display: flex; align-items: center; gap: 25px; }
        .nav-logo { font-size: 1.8rem; font-weight: 700; color: var(--color-texto); text-decoration: none; }
        .nav-logo span { color: var(--color-acento); }
        .nav-menu { list-style: none; display: flex; gap: 30px; }
        .nav-link { color: var(--color-texto); text-decoration: none; font-weight: 400; transition: color 0.3s; }
        .nav-link:hover { color: var(--color-acento); }
        .nav-toggle { display: none; font-size: 2rem; cursor: pointer; }
        .lang-selector { position: relative; }
        .lang-selected { display: flex; align-items: center; gap: 8px; cursor: pointer; }
        .lang-selected img { width: 24px; border-radius: 3px; }
        .lang-dropdown { position: absolute; top: 140%; left: 0; background-color: var(--color-secundario); border-radius: 5px; overflow: hidden; border: 1px solid #333; opacity: 0; visibility: hidden; transform: translateY(-10px); transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s; z-index: 1100; }
        .lang-dropdown.show { opacity: 1; visibility: visible; transform: translateY(0); }
        .lang-option { display: flex; align-items: center; gap: 8px; padding: 10px 15px; cursor: pointer; transition: background-color 0.2s; }
        .lang-option:hover { background-color: var(--color-acento); }
        .lang-option img { width: 24px; border-radius: 3px; }
        .profile-section { padding-top: 120px; padding-bottom: 60px; }
        .profile-header { display: flex; align-items: center; gap: 40px; margin-bottom: 50px; flex-wrap: wrap; }
        .profile-header img { width: 180px; height: 180px; border-radius: 50%; border: 4px solid var(--color-acento); object-fit: cover; }
        .profile-header-info { flex: 1; }
        .profile-header-info h1 { font-size: 2.8rem; line-height: 1.2; }
        .profile-header-info p { font-size: 1.2rem; color: var(--color-acento); font-weight: 600; margin-bottom: 10px; }
        .profile-summary { color: var(--color-texto-secundario); }
        .profile-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 50px; }
        .profile-main, .profile-sidebar { display: flex; flex-direction: column; gap: 40px; }
        .content-block { background: var(--color-secundario); padding: 30px; border-radius: 10px; border: 1px solid #222; }
        .content-block h2 { font-size: 1.5rem; color: var(--color-acento); padding-bottom: 15px; margin-bottom: 20px; border-bottom: 1px solid #333; }
        .job-item { margin-bottom: 25px; }
        .job-item:last-child { margin-bottom: 0; }
        .job-header { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 5px; }
        .job-header h3 { font-size: 1.2rem; }
        .job-header span { color: var(--color-texto-secundario); font-size: 0.9rem; }
        .job-item p { margin-left: 15px; border-left: 2px solid var(--color-acento); padding-left: 15px; font-size: 0.95rem; color: var(--color-texto-secundario); }
        .skills-list, .education-list { list-style: none; }
        .skills-list li, .education-item { background-color: #222; padding: 10px 15px; border-radius: 5px; margin-bottom: 10px; }
        .education-item h4 { font-size: 1rem; }
        .education-item p { font-size: 0.9rem; color: var(--color-texto-secundario); }

        /* --- NUEVOS ESTILOS PORTAFOLIO INTERACTIVO --- */
        .interactive-portfolio-section { padding: 60px 0; }
        .interactive-portfolio-section .section-title { font-size: clamp(2em, 5vw, 2.5em); text-align: center; margin-bottom: 10px; color: var(--color-acento); text-transform: uppercase; letter-spacing: 2px; }
        .interactive-portfolio-section .section-description { font-size: clamp(0.9em, 2vw, 1.1em); text-align: center; max-width: 800px; margin: 0 auto 40px; line-height: 1.6; color: var(--color-texto-secundario); }
        .interactive-portfolio-content { max-width: 1400px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; gap: 30px; }
        .portfolio-navigation { display: flex; align-items: center; justify-content: center; width: 100%; margin-bottom: 20px; gap: 15px; }
        .nav-btn { background-color: #2a2a2a; border: none; color: var(--color-texto); width: 40px; height: 40px; border-radius: 50%; cursor: pointer; transition: all 0.3s ease; font-size: 1em; display: flex; justify-content: center; align-items: center; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .nav-btn:hover { background-color: var(--color-acento); transform: scale(1.1); }
        .pagination-dots { display: flex; gap: 8px; }
        .pagination-dot { width: 10px; height: 10px; background-color: #555; border-radius: 50%; cursor: pointer; transition: background-color 0.3s ease, transform 0.3s ease; }
        .pagination-dot.active { background-color: var(--color-acento); transform: scale(1.2); }
        .portfolio-cards-wrapper { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; scrollbar-width: none; /* Firefox */ }
        .portfolio-cards-wrapper::-webkit-scrollbar { display: none; /* Chrome, Safari, Opera */ }
        .portfolio-cards-container { display: flex; transition: transform 0.5s ease-in-out; width: fit-content; justify-content: flex-start; gap: 15px; padding: 10px 20px; flex-wrap: nowrap; }
        .portfolio-card { flex: 0 0 auto; width: 120px; height: 180px; background-color: var(--color-secundario); border-radius: 12px; overflow: hidden; box-shadow: 0 8px 20px rgba(0,0,0,0.4); cursor: pointer; transition: transform 0.4s ease, box-shadow 0.4s ease, border-color 0.4s ease; border: 3px solid transparent; }
        .portfolio-card:hover { transform: translateY(-8px) scale(1.02); box-shadow: 0 12px 25px rgba(0,0,0,0.6); }
        .portfolio-card.active { border-color: var(--color-acento); transform: scale(1.05); }
        .portfolio-card img { width: 100%; height: 100%; object-fit: cover; display: block; }
        .video-container { position: relative; width: 100%; padding-bottom: 56.25%; height: 0; overflow: hidden; background-color: #000; border-radius: 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.4); }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }
        .portfolio-details { text-align: center; padding: 20px; background: var(--color-secundario); border-radius: 12px; width: 100%; margin-top: 20px; }
        .portfolio-details h3 { font-size: clamp(1.5em, 4vw, 2em); margin-bottom: 10px; color: var(--color-acento); text-transform: uppercase; }
        .portfolio-details p { font-size: clamp(0.9em, 2vw, 1em); line-height: 1.5; color: var(--color-texto-secundario); }
        .mute-toggle { position: absolute; bottom: 15px; right: 15px; background: rgba(0,0,0,0.5); border: none; color: white; width: 40px; height: 40px; border-radius: 50%; z-index: 10; cursor: pointer; font-size: 1.1rem; }

        @media (max-width: 1023px) {
            .content-left { width: 100%; }
        }

        @media (min-width: 1024px) {
            .interactive-portfolio-content { display: grid; grid-template-columns: 400px 1fr; gap: 50px; align-items: flex-start; }
            .content-left { order: 1; position: sticky; top: 100px; }
            .content-right { order: 2; }
            .portfolio-navigation { display: none; }
            .portfolio-cards-wrapper { overflow-x: visible; overflow-y: auto; max-height: 80vh; padding-right: 15px; }
            .portfolio-cards-container { flex-direction: column; padding: 0; width: 100%; gap: 20px; }
            .portfolio-card { width: 100%; height: 200px; }
            .portfolio-details { text-align: left; margin-top: 30px; }
        }

        @media (max-width: 768px) {
            .nav-menu { position: fixed; top: 0; right: -100%; width: 60%; height: 100vh; flex-direction: column; justify-content: center; align-items: center; background-color: var(--color-secundario); transition: right 0.4s ease-in-out; }
            .nav-menu.active { right: 0; }
            .nav-toggle { display: block; z-index: 1001; }
            .profile-header { flex-direction: column; text-align: center; }
            .profile-grid { grid-template-columns: 1fr; }
        }
        @media (min-width: 768px) {
            .preloader-video-mobile { display: none; }
            .preloader-video-desktop { display: block; }
        }
    </style>
</head>
<body>
    <div class="preloader" id="preloader">
        <video autoplay muted playsinline loop class="preloader-video-desktop"><source src="/animacion-visual-horizontal.mp4" type="video/mp4"></video>
        <video autoplay muted playsinline loop class="preloader-video-mobile"><source src="/animacion-visual-vertical.mp4" type="video/mp4"></video>
    </div>
    <header class="header" id="header">
        <nav class="nav container">
            <div class="nav-left">
                <a href="/" class="nav-logo">Visual<span>Synor</span></a>
                <div class="lang-selector">
                    <div class="lang-selected" id="lang-selected"></div>
                    <div class="lang-dropdown" id="lang-dropdown">
                        <div class="lang-option" data-lang="es"><img src="https://flagcdn.com/w40/co.png" alt="Bandera Colombia"><span>ES</span></div>
                        <div class="lang-option" data-lang="en"><img src="https://flagcdn.com/w40/us.png" alt="Bandera USA"><span>EN</span></div>
                    </div>
                </div>
            </div>
            <ul class="nav-menu" id="nav-menu">
                <li><a href="/#nosotros" class="nav-link" data-key="navTeam">Equipo</a></li>
                <li><a href="/#servicios" class="nav-link" data-key="navServices">Servicios</a></li>
                <li><a href="/#portafolio" class="nav-link" data-key="navPortfolio">Portafolio</a></li>
            </ul>
            <div class="nav-toggle" id="nav-toggle">&#9776;</div>
        </nav>
    </header>
    <main class="profile-section container">
        <div class="profile-header">
            <img src="/perfiles/Synor-Rafael.png" alt="Foto de Rafael Valenciano">
            <div class="profile-header-info">
                <h1>Rafael Valenciano</h1>
                <p data-key="role">Productor Multimedia & Estratega IA</p>
                <p class="profile-summary" data-key="summary">Diseñador gráfico enfocado en web y experiencias visuales, con experiencia en optimización, e-commerce e integración de IA para resultados eficientes.</p>
            </div>
        </div>

        <section id="interactive-portfolio" class="interactive-portfolio-section">
            <h2 class="section-title" data-key="portfolioTitle">MIS PROYECTOS DESTACADOS</h2>
            <p class="section-description" data-key="portfolioDesc">El proceso creativo es mi brújula, guiándome a través de cada proyecto con una combinación única de estrategia, innovación y pasión por los detalles.</p>
    
            <div class="interactive-portfolio-content">
                <div class="content-left">
                    <div class="portfolio-navigation">
                        <button id="prev-btn" class="nav-btn"><i class="fas fa-chevron-left"></i></button>
                        <div id="pagination-dots" class="pagination-dots"></div>
                        <button id="next-btn" class="nav-btn"><i class="fas fa-chevron-right"></i></button>
                    </div>
                    <div class="portfolio-cards-wrapper">
                        <div id="portfolio-cards-container" class="portfolio-cards-container">
                            <div class="portfolio-card" data-title="Tesoros Olvidados" data-description="Producción audiovisual de la segunda temporada de una serie de aventura, encargándonos de la dirección, grabación y postproducción." data-youtube-id="Qc1ZXXjSGu8">
                                <img src="/assets/portfolio/Tesoros-olvidados-trailer-aventura.jpeg" alt="Tesoros Olvidados">
                            </div>
                            <div class="portfolio-card" data-title="Very Well" data-description="Serie de comedia de turismo con enfoque en la enseñanza de inglés, un proyecto integral desde el guion hasta la edición final." data-youtube-id="bxkGkN2RxcY">
                                <img src="/assets/portfolio/ingles-serie-turismo-verywell-comedia.jpeg" alt="Very Well">
                            </div>
                            <div class="portfolio-card" data-title="Ana María" data-description="Cortometraje de acción y suspenso ambientado en Cali, explorando temáticas de drama y conflicto a través de una intensa narrativa." data-youtube-id="_ATmIwS3naw">
                                <img src="/assets/portfolio/accion-suspenso-drama-taxi-cali.jpeg" alt="Ana Maria">
                            </div>
                            <div class="portfolio-card" data-title="En la Otra Orilla" data-description="Serie dramática que aborda la corrupción policial y el conflicto armado, ofreciendo una perspectiva cruda y realista de la sociedad." data-youtube-id="VdxSonMgwSg">
                                <img src="/assets/portfolio/policia-corrupcion-conflicto armado-serie-abuelos.jpg" alt="En la Otra Orilla">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="content-right">
                    <div class="video-container">
                        <div id="portfolio-youtube-player"></div>
                        <button id="mute-toggle" class="mute-toggle"><i class="fas fa-volume-mute"></i></button>
                    </div>
                    <div class="portfolio-details">
                        <h3 id="project-title"></h3>
                        <p id="project-description"></p>
                    </div>
                </div>
            </div>
        </section>

        <div class="profile-grid">
            <div class="profile-main">
                <div class="content-block">
                    <h2 data-key="experienceTitle">Experiencia Laboral</h2>
                    <div class="job-item">
                        <div class="job-header">
                            <h3 data-key="job1Title">Diseñador Gráfico y Editor de Video</h3>
                            <span>2024 - Actual</span>
                        </div>
                        <p data-key="job1Desc">Edición de video y gráficos para televisión nacional. Integración de IA generativa para optimizar flujos de trabajo y reducir tiempos de producción publicitaria.</p>
                    </div>
                    <div class="job-item">
                        <div class="job-header">
                            <h3 data-key="job2Title">Diseñador Web</h3>
                            <span>2023 - 2024</span>
                        </div>
                        <p data-key="job2Desc">Diseño y animación de gráficos para redes sociales, logrando un aumento en interacciones. Optimización SEO y diseño web para aumentar la visibilidad en búsquedas.</p>
                    </div>
                </div>
            </div>
            <div class="profile-sidebar">
                <div class="content-block">
                    <h2 data-key="skillsTitle">Habilidades</h2>
                    <ul class="skills-list">
                        <li data-key="skill1">Animación y Gráficos</li>
                        <li data-key="skill2">Implementación de IA</li>
                        <li data-key="skill3">Diseño Gráfico Optimizado</li>
                        <li data-key="skill4">HTML5 & CSS</li>
                        <li data-key="skill5">Diseño Web Responsive</li>
                    </ul>
                </div>
                <div class="content-block">
                    <h2 data-key="educationTitle">Estudios</h2>
                    <ul class="education-list">
                        <li class="education-item">
                            <h4 data-key="edu1Title">Productor de Multimedia</h4>
                            <p data-key="edu1School">SENA (2022 - 2024)</p>
                        </li>
                        <li class="education-item">
                            <h4 data-key="edu2Title">Diseñador de Integración Multimedia</h4>
                            <p data-key="edu2School">SENA (2021)</p>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- CÓDIGO PRELOADER ---
            const hidePreloader = () => { const preloader = document.getElementById('preloader'); if (preloader) { preloader.classList.add('hidden'); setTimeout(() => { preloader.style.display = 'none'; }, 800); } };
            const minTimePromise = new Promise(resolve => { setTimeout(resolve, 1200); });
            const pageLoadPromise = new Promise(resolve => { window.addEventListener('load', resolve); });
            Promise.all([minTimePromise, pageLoadPromise]).then(hidePreloader);

            // --- CÓDIGO NAVEGACIÓN Y MENÚ MÓVIL ---
            const navMenu = document.getElementById('nav-menu'), navToggle = document.getElementById('nav-toggle'), navLinks = document.querySelectorAll('.nav-link');
            if (navToggle) { navToggle.addEventListener('click', () => { navMenu.classList.toggle('active'); }); }
            navLinks.forEach(link => { link.addEventListener('click', () => { if (navMenu.classList.contains('active')) { navMenu.classList.remove('active'); } }); });
            
            // --- CÓDIGO TRADUCTOR DE IDIOMA ---
            const translations = {
                es: {
                    navTeam: 'Equipo', navServices: 'Servicios', navPortfolio: 'Portafolio',
                    role: 'Productor Multimedia & Estratega IA',
                    summary: 'Diseñador gráfico enfocado en web y experiencias visuales, con experiencia en optimización,<br>e-commerce e integración de IA para resultados eficientes.',
                    portfolioTitle: 'MIS PROYECTOS DESTACADOS',
                    portfolioDesc: 'El proceso creativo es mi brújula, guiándome a través de cada proyecto con una combinación única de estrategia, innovación y pasión por los detalles.',
                    experienceTitle: 'Experiencia Laboral',
                    job1Title: 'Diseñador Gráfico y Editor de Video', job1Desc: 'Edición de video y gráficos para televisión nacional. Integración de IA generativa para optimizar flujos de trabajo y reducir tiempos de producción publicitaria.',
                    job2Title: 'Diseñador Web', job2Desc: 'Diseño y animación de gráficos para redes sociales, logrando un aumento en interacciones. Optimización SEO y diseño web para aumentar la visibilidad en búsquedas.',
                    skillsTitle: 'Habilidades',
                    skill1: 'Animación y Gráficos', skill2: 'Implementación de IA', skill3: 'Diseño Gráfico Optimizado', skill4: 'HTML5 & CSS', skill5: 'Diseño Web Responsive',
                    educationTitle: 'Estudios',
                    edu1Title: 'Productor de Multimedia', edu1School: 'SENA (2022 - 2024)',
                    edu2Title: 'Diseñador de Integración Multimedia', edu2School: 'SENA (2021)'
                },
                en: {
                    navTeam: 'Team', navServices: 'Services', navPortfolio: 'Portfolio',
                    role: 'Multimedia Producer & AI Strategist',
                    summary: 'Graphic designer focused on web and visual experiences, with expertise in optimization,<br>e-commerce, and AI integration for efficient results.',
                    portfolioTitle: 'MY FEATURED PROJECTS',
                    portfolioDesc: 'The creative process is my compass, guiding me through each project with a unique combination of strategy, innovation, and a passion for detail.',
                    experienceTitle: 'Work Experience',
                    job1Title: 'Graphic Designer and Video Editor', job1Desc: 'Video and graphics editing for national television. Integration of generative AI to optimize workflows and reduce advertising production times.',
                    job2Title: 'Web Designer', job2Desc: 'Design and animation of graphics for social media, achieving an increase in interactions. SEO optimization and web design to increase search visibility.',
                    skillsTitle: 'Skills',
                    skill1: 'Animation & Graphics', skill2: 'AI Implementation', skill3: 'Optimized Graphic Design', skill4: 'HTML5 & CSS', skill5: 'Responsive Web Design',
                    educationTitle: 'Education',
                    edu1Title: 'Multimedia Producer', edu1School: 'SENA (2022 - 2024)',
                    edu2Title: 'Multimedia Integration Designer', edu2School: 'SENA (2021)'
                }
            };
            const langSelector = document.querySelector('.lang-selector'), langSelectedContainer = document.getElementById('lang-selected'), langDropdown = document.getElementById('lang-dropdown'), langOptions = document.querySelectorAll('.lang-option');
            langSelectedContainer.addEventListener('click', (event) => { event.stopPropagation(); langDropdown.classList.toggle('show'); });
            function setLanguage(lang) {
                const selectedLangOption = document.querySelector(`.lang-option[data-lang="${lang}"]`);
                langSelectedContainer.innerHTML = selectedLangOption.innerHTML;
                document.querySelectorAll('[data-key]').forEach(elem => {
                    const key = elem.getAttribute('data-key');
                    if (translations[lang] && translations[lang][key]) { elem.innerHTML = translations[lang][key]; }
                });
                localStorage.setItem('language', lang);
            }
            langOptions.forEach(option => { option.addEventListener('click', () => { const lang = option.getAttribute('data-lang'); setLanguage(lang); langDropdown.classList.remove('show'); }); });
            window.addEventListener('click', () => { if (langDropdown.classList.contains('show')) { langDropdown.classList.remove('show'); } });
            const savedLang = localStorage.getItem('language') || 'es';
            setLanguage(savedLang);

            // --- NUEVO CÓDIGO PARA PORTAFOLIO INTERACTIVO ---
            const portfolioCardsContainer = document.getElementById('portfolio-cards-container');
            if(portfolioCardsContainer){
                const portfolioCards = document.querySelectorAll('.portfolio-card');
                const projectTitle = document.getElementById('project-title');
                const projectDescription = document.getElementById('project-description');
                const prevBtn = document.getElementById('prev-btn');
                const nextBtn = document.getElementById('next-btn');
                const paginationDotsContainer = document.getElementById('pagination-dots');
                const muteToggle = document.getElementById('mute-toggle');
                let currentProjectIndex = 0;
                let player;

                function loadYouTubeAPI() {
                    const tag = document.createElement('script');
                    tag.src = "https://www.youtube.com/iframe_api";
                    const firstScriptTag = document.getElementsByTagName('script')[0];
                    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
                }

                window.onYouTubeIframeAPIReady = function() {
                    const initialVideoId = portfolioCards[0]?.getAttribute('data-youtube-id');
                    if(initialVideoId && document.getElementById('portfolio-youtube-player')) {
                        player = new YT.Player('portfolio-youtube-player', {
                            videoId: initialVideoId,
                            playerVars: { autoplay: 1, mute: 1, loop: 1, controls: 0, playlist: initialVideoId, showinfo: 0, modestbranding: 1, rel: 0 },
                            events: { 'onReady': onPlayerReady }
                        });
                    }
                };

                function onPlayerReady(event) {
                    event.target.playVideo();
                    updateProjectDetails(0);
                    updateMuteButton();
                }

                function createPaginationDots() {
                    paginationDotsContainer.innerHTML = '';
                    portfolioCards.forEach((_, index) => {
                        const dot = document.createElement('div');
                        dot.classList.add('pagination-dot');
                        dot.addEventListener('click', () => showProject(index));
                        paginationDotsContainer.appendChild(dot);
                    });
                }

                function showProject(index) {
                    if (index < 0) index = portfolioCards.length - 1;
                    if (index >= portfolioCards.length) index = 0;
                    currentProjectIndex = index;

                    const cardWidth = portfolioCards[0].offsetWidth + parseInt(getComputedStyle(portfolioCards[0]).marginRight) * 2;
                    const scrollPosition = index * cardWidth - (portfolioCardsContainer.parentElement.offsetWidth / 2) + (cardWidth / 2);
                    portfolioCardsContainer.parentElement.scrollTo({ left: scrollPosition, behavior: 'smooth' });

                    updateProjectDetails(index);
                }

                function updateProjectDetails(index) {
                    portfolioCards.forEach((card, i) => card.classList.toggle('active', i === index));
                    const dots = paginationDotsContainer.querySelectorAll('.pagination-dot');
                    dots.forEach((dot, i) => dot.classList.toggle('active', i === index));

                    const card = portfolioCards[index];
                    const title = card.getAttribute('data-title');
                    const description = card.getAttribute('data-description');
                    const youtubeId = card.getAttribute('data-youtube-id');

                    projectTitle.textContent = title;
                    projectDescription.textContent = description;

                    if (player && typeof player.loadVideoById === 'function') {
                         player.loadVideoById({videoId: youtubeId});
                    }
                }
                
                function updateMuteButton() {
                    if (player && typeof player.isMuted === 'function') {
                        if (player.isMuted()) {
                            muteToggle.innerHTML = '<i class="fas fa-volume-mute"></i>';
                        } else {
                            muteToggle.innerHTML = '<i class="fas fa-volume-up"></i>';
                        }
                    }
                }

                muteToggle.addEventListener('click', () => {
                    if (player && typeof player.isMuted === 'function') {
                        player.isMuted() ? player.unMute() : player.mute();
                        setTimeout(updateMuteButton, 100); // Small delay to allow API to update
                    }
                });
                
                prevBtn.addEventListener('click', () => showProject(currentProjectIndex - 1));
                nextBtn.addEventListener('click', () => showProject(currentProjectIndex + 1));
                portfolioCards.forEach((card, index) => card.addEventListener('click', () => showProject(index)));

                createPaginationDots();
                loadYouTubeAPI();
            }
        });
    </script>
</body>

</html>
